@page "/medicos"

@inherits IndexMedicoPage

<PageTitle>Médicos</PageTitle>

<MudText Typo="Typo.h3">Médicos</MudText>

<MudButton Variant="Variant.Filled"
           StartIcon="@Icons.Material.Filled.Add"
           Color="Color.Info"
           Size="Size.Large"
           Href="/medicos/create"
           Class="mt-md-4 mb-4">
    Novo Médico
</MudButton>


<MudDataGrid items="@Medicos" Filterable="false" Bordered="true" SortMode="@SortMode.Single"
             Groupable="false">
    <Columns>
        <PropertyColumn Property="p => p.Nome" />
        <PropertyColumn Property="p => p.Documento" />
        <PropertyColumn Property="p => p.CRM" />
        <PropertyColumn Property="p => p.Celular" />
        <PropertyColumn Property="p => p.Especialidade.Nome" Title="Nome Especialidade" />

        <TemplateColumn CellClass="d-flex justify-center">
            <CellTemplate>
                <MudStack Row>
                    <MudFab Size="Size.Small" Label="Editar"
                            OnClick="() => GoToUpdatePage(context.Item.Id)"
                            StartIcon="@Icons.Material.Filled.Edit"
                            Color="Color.Success" />

                    <MudFab Size="Size.Small" Label="Excluir"
                            OnClick="() => DeleteMedicoAsync(context.Item)"
                            StartIcon="@Icons.Material.Filled.Delete"
                            Color="Color.Error"></MudFab>
                </MudStack>
            </CellTemplate>
        </TemplateColumn>
    </Columns>
</MudDataGrid>